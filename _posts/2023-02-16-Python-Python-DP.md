---
title: "[Python] DP"
excerpt: "파이썬으로 DP 정리"

categories: 
  - Python
tags:
  - [Python, DP, Algorithm]

permalink: /Python/DP/

toc: true
toc_sticky: true

date: 2023-02-16
last_modified_at: 2023-02-16
---
# DP

하나의 큰 문제를 여러 개의 작은 문제로 나누어서 그 결과를 저장하여 다시 큰 문제를 해결할 때 사용하는 것

특정한 알고리즘 보다는 하나의 문제해결 패러다임으로 볼 수 있다.

### DP의 사용 조건

**1) Overlapping Subproblems, `겹치는 부분 문제` / 큰 문제를 작은 문제로 나눌 수 있다.**

**2) Optimal Substructure, `최적 부분 구조` / 작은 문제에서 구한 정답은 그것을 포함하는 큰 문제에서도 동일하다.**

### Memoization기법

DP를 구현하는 방법 중 한 종류. 한 번 구한 결과를 메모리 공간에 메모해두고 같은 식을 다시 호출하면 메모한 결과를 그대로 가져오는 기법을 의미. → 메모이제이션은 값을 저장하는 방법이므로 `캐싱`이라고도 한다.

재귀함수를 이용하는 방법이 대표적인 Memoization방법이다.

### DP 와 분할정복의 차이

DP 와 분할정보은 모두 ‘최적 부분 구조’를 가질 때 사용한다는 공통점이 있다.

하지만, `‘부분 문제의 중복’` 에서의 차이점이 있다.

→ DP 문제에서는 각 부분 문제들이 서로 영향을 미치며 부분 문제가 중복된다.

→ 분할 정복 문제에서는 동일한 부분 문제가 반복적으로 계산되지 않는다.

### DP 문제 푸는 순서

**1) DP로 풀 수 있는 문제인지 확인한다.**

**2) 문제의 변수 파악**

**3) 변수 간 관계식 만들기(점화식)**

**4) 메모하기(memoization or tabulation)**

**5) 기저 상태 파악하기**

**6) 구현하기**

### **① Bottom-Up 방식**

이름에서 보이듯이, **아래에서 부터 계산을 수행 하고 누적시켜서 전체 큰 문제를 해결하는 방식**이다.

메모를 위해서 dp라는 배열을 만들었고 이것이 1차원이라 가정했을 때, dp[0]가 기저 상태이고 dp[n]을 목표 상태라고 하자. Bottom-up은 dp[0]부터 시작하여 반복문을 통해 점화식으로 결과를 내서 dp[n]까지 그 값을 전이시켜 재활용하는 방식이다.

**왜 Tabulation?**

사실 위에서 메모하기 부분에서 Memoization이라고 했는데 Bottom-up일 때는 Tabulation이라고 부른다.

왜냐면 반복을 통해 dp[0]부터 하나 하나씩 채우는 과정을 **"table-filling"** 하며, 이 Table에 저장된 값에 직접 접근하여 재활용하므로 **Tabulation**이라는 명칭이 붙었다고 한다.

사실상 근본적인 개념은 결과값을 기억하고 재활용한다는 측면에서 메모하기(Memoization)와 크게 다르지 않다.

### **② Top-Down 방식**

이는 dp[0]의 기저 상태에서 출발하는 대신 dp[n]의 값을 찾기 위해 **위에서 부터 바로 호출을 시작**하여 dp[0]의 상태까지 내려간 다음 해당 **결과 값을 재귀를 통해 전이시켜 재활용하는 방식**이다.

피보나치의 예시처럼, f(n) = f(n-2) + f(n-1)의 과정에서 함수 호출 트리의 과정에서 보이듯, n=5일 때, f(3), f(2)의 동일한 계산이 반복적으로 나오게 된다.

이 때, 이미 이전에 계산을 완료한 경우에는 단순히 메모리에 저장되어 있던 내역을 꺼내서 활용하면 된다. 그래서 가장 최근의 상태 값을 메모해 두었다고 하여 **Memoization** 이라고 부른다.

### Plus Alpha

---

- 일반적으로 반복문을 이용한 다이나믹 프로그래밍이 더 성능이 좋다.
- 파이썬의 경우 기본 자료형인 리스트 자료형이 연결 리스트의 기능을 포함하고 있는 점이 있다.
- 사전 자료형(dict)의 경우, 수열처럼 연속적이지 않은 경우에 유용하다.